<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.eclipse.papyrus.infra.textedit.textdocument.TextDocument"
            class="org.eclipse.papyrus.infra.textedit.ui.internal.adapter.TextDocumentViewAdapterFactory">
         <adapter
               type="org.eclipse.papyrus.infra.core.sasheditor.di.contentprovider.IOpenable">
         </adapter>
      </factory>
   </extension>
   <extension
         point="org.eclipse.papyrus.infra.core.model">
      <model
            classname="org.eclipse.papyrus.infra.textedit.ui.internal.modelresource.TextDocumentSharedModelResource"
            description="Model for Papyrus TextDocument"
            fileExtension="notation">
      </model>
   </extension>
   <extension
         point="org.eclipse.papyrus.infra.viewpoints.policy.viewType">
      <helper
            class="org.eclipse.papyrus.infra.textedit.ui.internal.viewpoint.CreateTextDocumentViewTypeCommandHelper"
            priority="0">
      </helper>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.papyrus.views.modelexplorer.modelexplorer.popup?after=org.eclipse.papyrus.views.modelexplorer.popupmenu.creatediagram">
         <menu
               icon="icons/PapyrusTextDocument.gif"
               id="org.eclipse.papyrus.infra.textedit.ui.popupmenu.createtextdocument"
               label="New TextDocument"
               tooltip="The Papyrus TextDocument Menu">
            <dynamic
                  class="org.eclipse.papyrus.infra.textedit.ui.internal.menu.TextDocumentDynamicContribution"
                  id="org.eclipse.papyrus.infra.textedit.ui.internal.menu.TextDocumentDynamicContribution">
            </dynamic>
         </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.papyrus.infra.services.labelprovider.labelProvider">
      <labelProvider
            priority="10"
            provider="org.eclipse.papyrus.infra.textedit.ui.provider.TextDocumentLabelProvider">
      </labelProvider>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="org.eclipse.papyrus.infra.textedit.ui.internal.handlers.RenameTextDocumentEditorHandler"
            commandId="org.eclipse.papyrus.infra.core.sasheditor.command.tabdoubleclick">
         <activeWhen>
            <with
                  variable="activeEditor">
               <adapt
                     type="org.eclipse.emf.ecore.EObject">
                  <instanceof
                        value="org.eclipse.papyrus.infra.textedit.textdocument.TextDocument">
                  </instanceof>
               </adapt>
            </with>
         </activeWhen>
      </handler>
   </extension>

</plugin>
