<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="org.eclipse.papyrus.toolsmiths.nattable.as.table.configuration"
            name="Export As Table Configuration">
      </command>
      <command
            id="org.eclipse.papyrus.toolsmiths.nattable.registerTableConfigurationInAF"
            name="Register existing Table Configuration">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.exportWizards">
      <wizard
            category="org.eclipse.papyrus.infra.core.exportcategory"
            class="org.eclipse.papyrus.toolsmiths.nattable.wizard.ExportAsTableConfigurationWizard"
            icon="icons/export_table.png"
            id="org.eclipse.papyrus.toolsmiths.nattable.as.tableconfiguration"
            name="Export Table As Table Configuration">
         <description>
            This wizard allows to export a table as a new table configuration.
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="true"
            locationURI="popup:org.eclipse.papyrus.infra.nattable.widget.menu?after=general.separator">
         <command
               commandId="org.eclipse.papyrus.toolsmiths.nattable.as.table.configuration"
               icon="icons/export_table.png"
               label="Export As Table Configuration"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            class="org.eclipse.papyrus.toolsmiths.nattable.menu.ContributionToNewChildMenu"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="org.eclipse.papyrus.toolsmiths.nattable.handlers.ExportAsTableConfigurationHandler"
            commandId="org.eclipse.papyrus.toolsmiths.nattable.as.table.configuration">
          <activeWhen>
            <with
                  variable="selection">
               <test
                     forcePluginActivation="true"
                     property="org.eclipse.papyrus.infra.nattable.tester.isNattableWidget"
                     value="true">
               </test>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="org.eclipse.papyrus.toolsmiths.nattable.handlers.RegisterTableConfigurationInArchitectureFrameworkHandler"
            commandId="org.eclipse.papyrus.toolsmiths.nattable.registerTableConfigurationInAF">
         <activeWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <instanceof
                        value="org.eclipse.papyrus.infra.core.architecture.ArchitectureDescriptionLanguage">
                  </instanceof>
               </iterate>
            </with>
         </activeWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.commandImages">
      <image
            commandId="org.eclipse.papyrus.toolsmiths.nattable.registerTableConfigurationInAF"
            icon="icons/PapyrusTable.gif">
      </image>
   </extension>
</plugin>
